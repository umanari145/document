# コンテナアプリ開発

## コンテナの特徴(サーバー仮想化との比較)
- サーバー仮想化（VM）
    - ハイパーバイザー上に完全なゲストOSを構築し、その上でアプリケーションを実行。各VMは独立したカーネルを持ち、ハードウェアを仮想的に分割して利用。
    - 各VMが完全なOSを必要とするため、メモリとストレージの消費量が大きい。起動に数分かかることが一般的。同じハードウェア上で稼働できるVMの数は限定的
- コンテナ化
    - ホストOSのカーネルを共有し、プロセスレベルで分離されたユーザースペースを提供します。OSレベルでの仮想化により、より軽量な実行環境を実現。
    - OSカーネルを共有するため、メモリ使用量が大幅に削減される。秒単位での起動が可能。同じリソースでより多くのコンテナを稼働できる

## コンテナアプリのメリデメ

### メリット
- 環境の一貫性
    - 開発、テスト、本番環境で同じコンテナイメージを使用することで「開発環境では動いたのに本番で動かない」問題を大幅に削減できる。依存関係やライブラリのバージョンも含めて環境を丸ごとパッケージ化できる。
- スケーラビリティ
    - 負荷に応じてコンテナインスタンスを素早く増減できます。Kubernetesなどのオーケストレーションツールと組み合わせることで、自動スケーリングも容易に実現できます。
- リソース効率
    - VM(サーバー仮想化)と比較して軽量で、同じハードウェアリソースでより多くのアプリケーションを稼働させることができます。起動時間も短く、メモリ使用量も少ないです。

### デメリット
- 学習コスト
    - Docker、Kubernetes、レジストリ管理など、習得すべき技術が多く、初期の学習コストが高い
- セキュリティリスク
    - コンテナイメージに脆弱性が含まれている可能性があり、イメージの定期的な更新や脆弱性スキャンが必要

## コンテナを使えるAWSのサービス
- EKS

- ECS

- Lambda

- Elastic Beanstalk

- App-Runner

- LightSai
    

学習コスト: LightSail < Lambda < App Runner < Beanstalk < ECS < EKS
運用負荷: Lambda < App Runner < LightSail < Beanstalk < ECS  < EKS
機能の豊富さ: EKS > ECS > Beanstalk > App Runner > Lambda > LightSail

## 参考文献
[AWSコンテナ設計・構築[本格]入門](https://www.amazon.co.jp/AWS%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E8%A8%AD%E8%A8%88%E3%83%BB%E6%A7%8B%E7%AF%89-%E6%9C%AC%E6%A0%BC-%E5%85%A5%E9%96%80-%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE%E9%87%8E%E6%9D%91%E7%B7%8F%E5%90%88%E7%A0%94%E7%A9%B6%E6%89%80/dp/4815607656)